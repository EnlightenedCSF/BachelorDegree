\subsection{Анализ задачи выбора оптимального набора маячков}

Существует целое семейство алгоритмов, называемое “OASIS” – Optimum Anchor Selection algorIthmS, что в переводе и значит «выбор оптимального набора маячков». Для работы с GPS существует функционал, называемый $GDOP$ – Geometric Dilution Of Precision, то есть <<геометрическое ослабление точности>>. Данная величина отражает, насколько на текущий момент взятое созвездие спутников вляет на результирующую точность.

Вычислить GDOP возможно по следующей формуле:
\begin{equation} \label{for:gdop}
    GDOP(M, \phi)=\sqrt{ \frac{M}{\sum_i\sum_{j,j>i}|\sin(\phi_{ij})|^2} }
\end{equation}
, где $M$ – количество спутников, рассматриваемых в рамках нахождения текущей локации, а $\phi$ – угол между каждой из пар спутников. При этом чтобы вычислить \ref{for:gdop} для отдельно взятой точки, необходимо знать ее положение. В приложениях, использующих GPS, начальное грубое вычисление исходной позиции может быть допущено ввиду больших дистанций между пользователем и спутниками. В рамках задачи определения локации внутри помещений такой подход неприемлем и не может быть использован без каких-либо изменений.

Рассмотрим альтернативные методы OASIS:
\begin{enumerate}
    \item
    \textbf{Совместная кластеризация}. Подход метода заключается в выборе $k$ лучших по силе сигнала (RSSI) маячка для дальнейшего вычисления координат.
    \item
    \textbf{Простая выпуклая оболочка}. В данном методе рассматриваются дистанции, определенные при анализе величины сигнала от каждого из маячков $n_1, n_2, ..., n_N$. Фунционал выпуклой оболочки, обозначаемый С, может быть вычислен по формуле:
    \[
        C \equiv \{ \sum_{j=1}^N \lambda_j n_j : \lambda_j \geq 0 \}, \sum_{j=1}^N \lambda_j = 1
    \]
    \item
    \textbf{Сила сигнала}. Используемая в данной работе техника,заключающаяся в выборе трех маячков с наиболее сильным сигналом вне зависимости от их расположения.
    \item
    \textbf{Выбор, основанный на определении площади}. Согласно исследованию, проведенному М.Миронововой и Х.Халвисом \cite{mironovova2011calculation}, большая площадь, сформированная тремя спутниками, образует лучшее (то есть меньшее) значение $GDOP$. Применяя это к поставленной задаче, мы перебираем все возможные треугольники, образованные тройками маячков, выбирая наибольший по площади из них.
    \item
    \textbf{Периметр}. Метод достаточно схож по своей сути с приведенным выше, но при рассмотрении треугольника учитывается его периметр. Периметр также показывает линейную независимость координат образовавших его маячков. С другой стороны, использование периметра бесполезно в рамках некоторых сценариев (например, нахождение трех маячков на одной прямой).
    \item
    \textbf{Плотность}. Алгоритм, рассматривая все комбинации маячков, вычисляет все возможные координаты пользователя. После этого область с наибольшей плотностью возможных координат пользователя выбирается в качестве результата, а конечной точкой обычно берется центроид промежуточных результатов.
    \item
    \textbf{Мультилатерация}. Если рассматривать сразу $N$ маячков, то возможно составить систему уравнений для вычисления положения пользователя, учитывая показания каждого из них. \\
    Положим, что координата узла $i$ есть $b_i$. Необходимо вычислить положение пользователя $p$. Показания маячков равны $d_i$, соответственно. В идеальной ситуации мы имеем:
    \[
        || b_i - p ||^2_2=d_i^2
    \]
    Перепишем левую часть в виде
    \begin{equation} \label{for:neededPos}
            || b ||^2_2 + || p ||^2_2 - 2b_i^Tp = d_i^2    
    \end{equation}
    Учитывая, что всего участвуют в расмотрении $M$ Bluetooth-маячков, снова возможно переписать выражение в следующем виде для вычисления позиции пользователя:
    \begin{equation} \label{for:p}
        p = 0.5B^+(a+\gamma)    
    \end{equation}
    , при этом мы воспользовались заменой $\gamma = || p ||^2_2$ и $[a]_i = || b ||^2_2 - d_i^2$, а также вектор-столбец $B = [p_1, p_2, ..., p_M]^T$. Нотация $B^+$ означает псевдообращение Мура-Пенроуза. Чтобы решить \ref{for:p}, необходимо вычислить $\gamma$:
    \[
        \gamma = p^T p = [0.5B^+(a+\gamma)]^T [0.5B^+(a+\gamma)]
    \]
    В нашем случае мы выбираем $\gamma$, которая бы давала наименьшую среднюю ошибку между каждым из значений $p1, p2, ..., p_M$ и искомой позицией (см. \ref{for:neededPos}). \\
\end{enumerate}

    В работе \cite{artemenko2012comparison}, показано, что в рамках проводимого ряда экспериментов, наименьшая средняя ошибка достигается при использовании методов, основанных на выборе по силе сигнала, совместной кластеризации и мультилатерации. 
    
    Важно отметить, что те методы, которые не использовали RSSI-показатель сигнала явно (как например основанные на площади или периметре), давали худшие результаты. 
    
    Наконец, при увеличении вовлеченных в процесс вычисления маячков, разные подходы адаптировались лучше или хуже. Так, мультилатерация, несмотря на свою точность, значительно замедлялась в работе из-за решения сверхдетерминированной системы уравнений. 
    
    Руководствуясь вышеприведенными рассуждениями, я выбрал метод, основанный на использовании трех маячков с наилучшими сигнал-шумовыми показателями.